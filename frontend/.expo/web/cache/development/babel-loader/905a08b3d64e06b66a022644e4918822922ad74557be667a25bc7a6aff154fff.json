{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { RequestItem } from \"../RequestItem\";\nimport styles from \"./styles\";\nimport { API } from \"../../../../Api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RequestList = function RequestList() {\n  var _ref;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refreshing = _useState4[0],\n    setRefreshing = _useState4[1];\n  var isFocused = useIsFocused();\n  var loadRequests = function loadRequests() {\n    return (_ref = _ref || _asyncToGenerator(function* () {\n      var response = yield fetch(`${API}/requests`);\n      var json = yield response.json();\n      setData(json);\n    })).apply(this, arguments);\n  };\n  useEffect(function () {\n    loadRequests();\n  }, [isFocused]);\n  var renderTableRow = function renderTableRow(_ref2) {\n    var item = _ref2.item;\n    return _jsx(RequestItem, {\n      item: item\n    });\n  };\n  var onRefresh = React.useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield loadRequests();\n    setRefreshing(false);\n  }), []);\n  if (data === null) {\n    return _jsx(Text, {\n      style: styles.loading,\n      children: \"Cargando...\"\n    });\n  }\n  return _jsx(ScrollView, {\n    horizontal: true,\n    style: styles.container,\n    children: _jsxs(View, {\n      style: styles.tableContainer,\n      children: [_jsxs(View, {\n        style: styles.tableHeader,\n        children: [_jsx(Text, {\n          style: [styles.headerCell, {\n            width: 100\n          }],\n          children: \"ID\"\n        }), _jsx(Text, {\n          style: [styles.headerCell, {\n            width: 150\n          }],\n          children: \"Titulo\"\n        }), _jsx(Text, {\n          style: [styles.headerCell, {\n            width: 100\n          }],\n          children: \"Fecha\"\n        }), _jsx(Text, {\n          style: [styles.headerCell, {\n            width: 100\n          }],\n          children: \"Estado\"\n        })]\n      }), _jsx(FlatList, {\n        style: styles.table,\n        data: data,\n        keyExtractor: function keyExtractor(item) {\n          return item.requestId + '';\n        },\n        renderItem: renderTableRow,\n        contentContainerStyle: {\n          flexGrow: 1\n        },\n        refreshControl: _jsx(RefreshControl, {\n          refreshing: refreshing,\n          onRefresh: onRefresh\n        })\n      })]\n    })\n  });\n};\nexport default RequestList;","map":{"version":3,"names":["React","useState","useEffect","FlatList","RefreshControl","View","ScrollView","Text","useIsFocused","RequestItem","styles","API","jsx","_jsx","jsxs","_jsxs","RequestList","_ref","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","refreshing","setRefreshing","isFocused","loadRequests","_asyncToGenerator","response","fetch","json","apply","arguments","renderTableRow","_ref2","item","onRefresh","useCallback","style","loading","children","horizontal","container","tableContainer","tableHeader","headerCell","width","table","keyExtractor","requestId","renderItem","contentContainerStyle","flexGrow","refreshControl"],"sources":["C:/Users/Mauro Retuerto/Desktop/Mauro/FISI/CICLO 8/Moviles/Test/frontend/users/client/components/RequestList/RequestList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { FlatList, RefreshControl, View, ScrollView, Text } from 'react-native'\r\nimport { useIsFocused } from '@react-navigation/native'\r\n\r\nimport { RequestItem } from '../RequestItem';\r\nimport styles from './styles';\r\n\r\nimport { API } from '../../../../Api';\r\n\r\nconst RequestList = () => {\r\n  const [data, setData] = useState(null);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const isFocused = useIsFocused();\r\n\r\n  const loadRequests = async () => {\r\n    const response = await fetch(`${API}/requests`);\r\n    const json = await response.json();\r\n    setData(json);\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadRequests();\r\n  }, [isFocused]);\r\n\r\n  const renderTableRow = ({ item }) => {\r\n    return <RequestItem item={item}/>\r\n  };\r\n\r\n  const onRefresh = React.useCallback(async () => {\r\n    setRefreshing(true);\r\n    await loadRequests();\r\n    setRefreshing(false);\r\n  }, []);\r\n\r\n  if (data === null) {\r\n    return <Text style={styles.loading}>Cargando...</Text>\r\n  }\r\n\r\n  return (\r\n    <ScrollView horizontal style={styles.container}>\r\n      <View style={styles.tableContainer}>\r\n        <View style={styles.tableHeader}>\r\n          <Text style={[styles.headerCell, { width: 100 }]}>ID</Text>\r\n          <Text style={[styles.headerCell, { width: 150 }]}>Titulo</Text>\r\n          <Text style={[styles.headerCell, { width: 100 }]}>Fecha</Text>\r\n          <Text style={[styles.headerCell, { width: 100 }]}>Estado</Text>\r\n        </View>\r\n        \r\n        <FlatList\r\n          style={styles.table}\r\n          data={data}\r\n          keyExtractor={(item) => item.requestId + ''}\r\n          renderItem={renderTableRow}\r\n          contentContainerStyle={{ flexGrow: 1 }}\r\n          refreshControl={\r\n            <RefreshControl\r\n              refreshing={refreshing}\r\n              onRefresh={onRefresh}\r\n            />\r\n          }\r\n        />\r\n      </View>\r\n    </ScrollView>\r\n  )\r\n}\r\n\r\nexport default RequestList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}