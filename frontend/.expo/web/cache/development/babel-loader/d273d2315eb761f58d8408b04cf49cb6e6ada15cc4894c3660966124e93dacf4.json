{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { RequestItem } from \"../RequestItem\";\nimport styles from \"./styles\";\nimport { getRequests } from \"../../../../Api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RequestList = function RequestList() {\n  var _ref;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refreshing = _useState4[0],\n    setRefreshing = _useState4[1];\n  var isFocused = useIsFocused();\n  var loadRequests = function loadRequests() {\n    return (_ref = _ref || _asyncToGenerator(function* () {\n      var response = yield getRequests(1);\n      var json = yield response.data;\n      setData(json);\n    })).apply(this, arguments);\n  };\n  useEffect(function () {\n    loadRequests();\n  }, [isFocused, data]);\n  var renderTableRow = function renderTableRow(_ref2) {\n    var item = _ref2.item;\n    return _jsx(RequestItem, {\n      item: item\n    });\n  };\n  var onRefresh = React.useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield loadRequests();\n    setRefreshing(false);\n  }), []);\n  if (data === null || data.length === 0) {\n    return _jsx(_Fragment, {});\n  }\n  return _jsx(ScrollView, {\n    horizontal: true,\n    style: styles.container,\n    children: _jsxs(View, {\n      style: styles.tableContainer,\n      children: [_jsxs(View, {\n        style: styles.tableHeader,\n        children: [_jsx(Text, {\n          style: [styles.headerCell, {\n            width: 100\n          }],\n          children: \"ID\"\n        }), _jsx(Text, {\n          style: [styles.headerCell, {\n            width: 150\n          }],\n          children: \"Titulo\"\n        }), _jsx(Text, {\n          style: [styles.headerCell, {\n            width: 100\n          }],\n          children: \"Fecha\"\n        }), _jsx(Text, {\n          style: [styles.headerCell, {\n            width: 100\n          }],\n          children: \"Estado\"\n        })]\n      }), _jsx(FlatList, {\n        style: styles.table,\n        data: data,\n        keyExtractor: function keyExtractor(item) {\n          return item.requestId + '';\n        },\n        renderItem: renderTableRow,\n        contentContainerStyle: {\n          flexGrow: 1\n        },\n        refreshControl: _jsx(RefreshControl, {\n          refreshing: refreshing,\n          onRefresh: onRefresh\n        })\n      })]\n    })\n  });\n};\nexport default RequestList;","map":{"version":3,"names":["React","useState","useEffect","FlatList","RefreshControl","View","ScrollView","Text","useIsFocused","RequestItem","styles","getRequests","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RequestList","_ref","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","refreshing","setRefreshing","isFocused","loadRequests","_asyncToGenerator","response","json","apply","arguments","renderTableRow","_ref2","item","onRefresh","useCallback","length","horizontal","style","container","children","tableContainer","tableHeader","headerCell","width","table","keyExtractor","requestId","renderItem","contentContainerStyle","flexGrow","refreshControl"],"sources":["C:/Users/Mauro Retuerto/Desktop/Mauro/FISI/CICLO 8/Moviles/G1-Soportech/Test/frontend/users/client/components/RequestList/RequestList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { FlatList, RefreshControl, View, ScrollView, Text } from 'react-native'\nimport { useIsFocused } from '@react-navigation/native'\n\nimport { RequestItem } from '../RequestItem';\nimport styles from './styles';\n\nimport { getRequests } from '../../../../Api';\n\nconst RequestList = () => {\n  const [data, setData] = useState(null);\n  const [refreshing, setRefreshing] = useState(false);\n  const isFocused = useIsFocused();\n\n  const loadRequests = async () => {\n    const response = await getRequests(1);\n    const json = await response.data;\n    setData(json);\n  }\n\n  useEffect(() => {\n    loadRequests();\n  }, [isFocused, data]); // Tratar de mejorar el renderizado\n\n  const renderTableRow = ({ item }) => {\n    return <RequestItem item={item}/>\n  };\n\n  const onRefresh = React.useCallback(async () => {\n    setRefreshing(true);\n    await loadRequests();\n    setRefreshing(false);\n  }, []);\n\n  if (data === null || data.length === 0) {\n    return <></>\n  }\n\n  return (\n    <ScrollView horizontal style={styles.container}>\n      <View style={styles.tableContainer}>\n        <View style={styles.tableHeader}>\n          <Text style={[styles.headerCell, { width: 100 }]}>ID</Text>\n          <Text style={[styles.headerCell, { width: 150 }]}>Titulo</Text>\n          <Text style={[styles.headerCell, { width: 100 }]}>Fecha</Text>\n          <Text style={[styles.headerCell, { width: 100 }]}>Estado</Text>\n        </View>\n        \n        <FlatList\n          style={styles.table}\n          data={data}\n          keyExtractor={(item) => item.requestId + ''}\n          renderItem={renderTableRow}\n          contentContainerStyle={{ flexGrow: 1 }}\n          refreshControl={\n            <RefreshControl\n              refreshing={refreshing}\n              onRefresh={onRefresh}\n            />\n          }\n        />\n      </View>\n    </ScrollView>\n  )\n}\n\nexport default RequestList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}