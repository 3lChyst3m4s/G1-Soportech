{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { Button } from \"../../../../components/Button\";\nimport styles from \"./styles\";\nimport { assignSolver, modifyRequest } from \"../../utils/takeCase\";\nimport { useAuth } from \"../../../../context/AuthContext\";\nimport { getRequest } from \"../../../../Api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar InfoContainer = function InfoContainer(_ref) {\n  var _ref2, _ref3;\n  var itemId = _ref.itemId;\n  var _useAuth = useAuth(),\n    user = _useAuth.user;\n  var _useState = useState({\n      title: '',\n      clientName: '',\n      solverName: '',\n      classroom: '',\n      description: '',\n      typeRequest: '',\n      categoryRequest: '',\n      endTime: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    ticketDetail = _useState2[0],\n    setTicketDetail = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refreshing = _useState4[0],\n    setRefreshing = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isTaken = _useState6[0],\n    setIsTaken = _useState6[1];\n  var isFocused = useIsFocused();\n  var loadRequest = function loadRequest() {\n    return (_ref2 = _ref2 || _asyncToGenerator(function* () {\n      var response = yield getRequest(itemId);\n      var json = yield response.data;\n      setTicketDetail(json);\n    })).apply(this, arguments);\n  };\n  var takeCase = function takeCase() {\n    return (_ref3 = _ref3 || _asyncToGenerator(function* () {\n      yield assignSolver({\n        requestId: itemId\n      });\n      yield modifyRequest({\n        user: user,\n        requestId: itemId\n      });\n    })).apply(this, arguments);\n  };\n  var onPress = function onPress() {\n    takeCase();\n    onRefresh();\n  };\n  useEffect(function () {\n    loadRequest();\n  }, [isFocused]);\n  useEffect(function () {\n    if (ticketDetail.solverName === 'Sin asignar') {\n      setIsTaken(false);\n    } else {\n      setIsTaken(true);\n    }\n  }, [ticketDetail]);\n  var onRefresh = useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield loadRequest();\n    setRefreshing(false);\n  }), []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.infoContainer,\n      children: [_jsxs(View, {\n        style: styles.titleContainer,\n        children: [_jsxs(View, {\n          style: styles.titleColumn,\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: \"T\\xEDtulo\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.title\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Aula\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.classroom\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Tipo\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.typeRequest\n          })]\n        }), _jsxs(View, {\n          style: styles.titleColumn,\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: \"Usuario\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.clientName\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Fecha\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.endTime\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Categor\\xEDa\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.categoryRequest\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.titleColumn,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \"Descripci\\xF3n\"\n        }), _jsx(Text, {\n          style: [styles.subtitle],\n          children: ticketDetail.description\n        })]\n      })]\n    }), _jsx(Button, {\n      text: 'Tomar Caso',\n      onPress: onPress,\n      buttonStyle: styles.button,\n      color: 'blue',\n      isDisabled: isTaken\n    })]\n  });\n};\nexport default InfoContainer;","map":{"version":3,"names":["React","useState","useEffect","useCallback","View","Text","useIsFocused","Button","styles","assignSolver","modifyRequest","useAuth","getRequest","jsx","_jsx","jsxs","_jsxs","InfoContainer","_ref","_ref2","_ref3","itemId","_useAuth","user","_useState","title","clientName","solverName","classroom","description","typeRequest","categoryRequest","endTime","_useState2","_slicedToArray","ticketDetail","setTicketDetail","_useState3","_useState4","refreshing","setRefreshing","_useState5","_useState6","isTaken","setIsTaken","isFocused","loadRequest","_asyncToGenerator","response","json","data","apply","arguments","takeCase","requestId","onPress","onRefresh","style","container","children","infoContainer","titleContainer","titleColumn","subtitle","text","buttonStyle","button","color","isDisabled"],"sources":["C:/Users/Mauro Retuerto/Desktop/Mauro/FISI/CICLO 8/Moviles/G1-Soportech/Test/frontend/users/solver/components/InfoContainer/InfoContainer.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport { View, Text } from 'react-native'\nimport { useIsFocused } from '@react-navigation/native'\n\nimport { Button } from '../../../../components/Button';\n\nimport styles from './styles';\n\nimport { assignSolver, modifyRequest } from '../../utils/takeCase';\nimport { useAuth } from '../../../../context/AuthContext';\n\nimport { getRequest } from '../../../../Api';\n\nconst InfoContainer = ({ itemId }) => {\n  const { user } = useAuth();\n  const [ticketDetail, setTicketDetail] = useState({\n    title: '',\n    clientName: '',\n    solverName: '',\n    classroom: '',\n    description: '',\n    typeRequest: '',\n    categoryRequest: '',\n    endTime: '',\n  });\n  const [refreshing, setRefreshing] = useState(false);\n  const [isTaken, setIsTaken] = useState(true);\n  const isFocused = useIsFocused();\n\n  const loadRequest = async () => {\n    const response = await getRequest(itemId);\n    const json = await response.data;\n    setTicketDetail(json);\n  }\n\n  const takeCase = async () => {\n    await assignSolver({ requestId: itemId });\n    await modifyRequest({ user: user, requestId: itemId }); \n  }\n\n  const onPress = () => {\n    takeCase();\n    onRefresh();\n  }\n\n  useEffect(() => {\n    loadRequest();\n  }, [isFocused]);\n\n  useEffect(() => {\n    if (ticketDetail.solverName === 'Sin asignar') {\n      setIsTaken(false);\n    } else {\n      setIsTaken(true);\n    }\n  }, [ticketDetail]);\n\n  const onRefresh = useCallback(async () => {\n    setRefreshing(true);\n    await loadRequest();\n    setRefreshing(false);\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.infoContainer}>\n        <View style={styles.titleContainer}>\n          <View style={styles.titleColumn}>\n            <Text style={styles.title}>Título</Text>\n            <Text style={styles.subtitle}>{ticketDetail.title}</Text>\n            <Text style={styles.title}>Aula</Text>\n            <Text style={styles.subtitle}>{ticketDetail.classroom}</Text>\n            <Text style={styles.title}>Tipo</Text>\n            <Text style={styles.subtitle}>{ticketDetail.typeRequest}</Text>\n          </View>\n\n          <View style={styles.titleColumn}>\n            <Text style={styles.title}>Usuario</Text>\n            <Text style={styles.subtitle}>{ticketDetail.clientName}</Text>\n            <Text style={styles.title}>Fecha</Text>\n            <Text style={styles.subtitle}>{ticketDetail.endTime}</Text>\n            <Text style={styles.title}>Categoría</Text>\n            <Text style={styles.subtitle}>{ticketDetail.categoryRequest}</Text>\n          </View>\n        </View>      \n      \n        <View style={styles.titleColumn}>\n          <Text style={styles.title}>Descripción</Text>\n          <Text style={[styles.subtitle]}>{ticketDetail.description}</Text>\n        </View>\n      </View>\n\n      <Button\n        text={'Tomar Caso'}\n        onPress={onPress}\n        buttonStyle={styles.button}\n        color={'blue'}\n        isDisabled={isTaken}\n      />\n      \n    </View>\n  )\n}\n\nexport default InfoContainer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}