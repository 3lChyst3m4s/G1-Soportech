{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Layout } from \"../../../../components/Layout\";\nimport styles from \"./styles\";\nimport { NavButton } from \"../../components/NavButton\";\nimport { AuthContext } from \"../../../../context/AuthContext\";\nimport { API } from \"../../../../Api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HomeScreen = function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useContext = useContext(AuthContext),\n    user = _useContext.user;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var handleRowPress = function handleRowPress(itemId) {\n    navigation.navigate('Details', {\n      itemId: itemId\n    });\n  };\n  var renderTableRow = function renderTableRow(item) {\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleRowPress(item.requestId);\n      },\n      style: styles.tableRow,\n      children: [_jsx(Text, {\n        style: [styles.tableCell, {\n          width: 100\n        }],\n        children: item.requestId\n      }), _jsx(Text, {\n        style: [styles.tableCell, {\n          width: 150\n        }],\n        children: item.title\n      }), _jsx(Text, {\n        style: [styles.tableCell, {\n          width: 100\n        }],\n        children: item.endTime\n      }), _jsx(Text, {\n        style: [styles.tableCell, {\n          width: 100\n        }],\n        children: item.stateRequest\n      })]\n    }, item.requestId);\n  };\n  useEffect(function () {\n    var _ref2;\n    var fetchData = function fetchData() {\n      return (_ref2 = _ref2 || _asyncToGenerator(function* () {\n        var response = yield fetch(`${API}/requests`);\n        var json = yield response.json();\n        setData(json);\n      })).apply(this, arguments);\n    };\n    fetchData();\n  }, []);\n  return _jsx(Layout, {\n    navigation: navigation,\n    title: user.name,\n    screen: _jsx(View, {\n      style: styles.container,\n      children: _jsxs(View, {\n        style: styles.menu,\n        children: [data && _jsx(ScrollView, {\n          horizontal: true,\n          showsHorizontalScrollIndicator: false,\n          children: _jsx(View, {\n            style: styles.tableContainer,\n            children: _jsxs(View, {\n              style: styles.table,\n              children: [_jsxs(View, {\n                style: styles.tableHeader,\n                children: [_jsx(Text, {\n                  style: [styles.headerCell, {\n                    width: 100\n                  }],\n                  children: \"Nombre\"\n                }), _jsx(Text, {\n                  style: [styles.headerCell, {\n                    width: 150\n                  }],\n                  children: \"T\\xEDtulo\"\n                }), _jsx(Text, {\n                  style: [styles.headerCell, {\n                    width: 100\n                  }],\n                  children: \"Fecha\"\n                }), _jsx(Text, {\n                  style: [styles.headerCell, {\n                    width: 100\n                  }],\n                  children: \"Estado\"\n                })]\n              }), data.map(function (item) {\n                return renderTableRow(item);\n              })]\n            })\n          })\n        }), _jsx(NavButton, {\n          title: \"Nueva Consulta\",\n          onPress: function onPress() {\n            return navigation.navigate('Create');\n          }\n        })]\n      })\n    })\n  });\n};\nexport default HomeScreen;","map":{"version":3,"names":["React","useContext","useState","useEffect","View","Text","ScrollView","TouchableOpacity","Layout","styles","NavButton","AuthContext","API","jsx","_jsx","jsxs","_jsxs","HomeScreen","_ref","navigation","_useContext","user","_useState","_useState2","_slicedToArray","data","setData","handleRowPress","itemId","navigate","renderTableRow","item","onPress","requestId","style","tableRow","children","tableCell","width","title","endTime","stateRequest","_ref2","fetchData","_asyncToGenerator","response","fetch","json","apply","arguments","name","screen","container","menu","horizontal","showsHorizontalScrollIndicator","tableContainer","table","tableHeader","headerCell","map"],"sources":["C:/Users/Mauro Retuerto/Desktop/Mauro/FISI/CICLO 8/Moviles/Test/frontend/users/client/screens/HomeScreen/HomeScreen.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { View, Text, ScrollView, TouchableOpacity } from 'react-native';\r\n\r\nimport { Layout } from \"../../../../components/Layout\";\r\nimport styles from './styles';\r\n\r\nimport { NavButton } from \"../../components/NavButton\";\r\nimport { AuthContext } from \"../../../../context/AuthContext\";\r\n\r\nimport { API } from '../../../../Api';\r\n\r\nconst HomeScreen = ({navigation}) => {\r\n  const { user } = useContext(AuthContext);\r\n  const [data, setData] = useState(null);\r\n\r\n  const handleRowPress = (itemId) => {\r\n    navigation.navigate('Details', { itemId });\r\n  };\r\n\r\n  const renderTableRow = (item) => (\r\n    <TouchableOpacity \r\n      key={item.requestId}  \r\n      onPress={() => handleRowPress(item.requestId)} \r\n      style={styles.tableRow}\r\n    >\r\n      <Text style={[styles.tableCell, { width: 100 }]}>{item.requestId}</Text>\r\n      <Text style={[styles.tableCell, { width: 150 }]}>{item.title}</Text>\r\n      <Text style={[styles.tableCell, { width: 100 }]}>{item.endTime}</Text>\r\n      <Text style={[styles.tableCell, { width: 100 }]}>{item.stateRequest}</Text>\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const response = await fetch(`${API}/requests`);\r\n      const json = await response.json();\r\n      setData(json);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout \r\n      navigation={navigation}\r\n      title={user.name}\r\n      screen={\r\n        <View style={styles.container}>\r\n          <View style={styles.menu}>\r\n            {data && (\r\n              <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                <View style={styles.tableContainer}>\r\n                  <View style={styles.table}>\r\n                    <View style={styles.tableHeader}>\r\n                      <Text style={[styles.headerCell, { width: 100 }]}>Nombre</Text>\r\n                      <Text style={[styles.headerCell, { width: 150 }]}>TÃ­tulo</Text>\r\n                      <Text style={[styles.headerCell, { width: 100 }]}>Fecha</Text>\r\n                      <Text style={[styles.headerCell, { width: 100 }]}>Estado</Text>\r\n                    </View>\r\n                    {data.map((item) => renderTableRow(item))}\r\n                  </View>\r\n                </View>\r\n              </ScrollView>\r\n            )}\r\n            <NavButton\r\n              title=\"Nueva Consulta\"\r\n              onPress={() => navigation.navigate('Create')}\r\n            />\r\n          </View>\r\n        </View>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default HomeScreen;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAG/D,SAASC,MAAM;AACf,OAAOC,MAAM;AAEb,SAASC,SAAS;AAClB,SAASC,WAAW;AAEpB,SAASC,GAAG;AAA0B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEtC,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAAC,IAAA,EAAqB;EAAA,IAAhBC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAC7B,IAAAC,WAAA,GAAiBnB,UAAU,CAACU,WAAW,CAAC;IAAhCU,IAAI,GAAAD,WAAA,CAAJC,IAAI;EACZ,IAAAC,SAAA,GAAwBpB,QAAQ,CAAC,IAAI,CAAC;IAAAqB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,IAAMI,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,MAAM,EAAK;IACjCT,UAAU,CAACU,QAAQ,CAAC,SAAS,EAAE;MAAED,MAAM,EAANA;IAAO,CAAC,CAAC;EAC5C,CAAC;EAED,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,IAAI;IAAA,OAC1Bf,KAAA,CAACT,gBAAgB;MAEfyB,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAML,cAAc,CAACI,IAAI,CAACE,SAAS,CAAC;MAAA,CAAC;MAC9CC,KAAK,EAAEzB,MAAM,CAAC0B,QAAS;MAAAC,QAAA,GAEvBtB,IAAA,CAACT,IAAI;QAAC6B,KAAK,EAAE,CAACzB,MAAM,CAAC4B,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAC,CAAE;QAAAF,QAAA,EAAEL,IAAI,CAACE;MAAS,CAAO,CAAC,EACxEnB,IAAA,CAACT,IAAI;QAAC6B,KAAK,EAAE,CAACzB,MAAM,CAAC4B,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAC,CAAE;QAAAF,QAAA,EAAEL,IAAI,CAACQ;MAAK,CAAO,CAAC,EACpEzB,IAAA,CAACT,IAAI;QAAC6B,KAAK,EAAE,CAACzB,MAAM,CAAC4B,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAC,CAAE;QAAAF,QAAA,EAAEL,IAAI,CAACS;MAAO,CAAO,CAAC,EACtE1B,IAAA,CAACT,IAAI;QAAC6B,KAAK,EAAE,CAACzB,MAAM,CAAC4B,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAC,CAAE;QAAAF,QAAA,EAAEL,IAAI,CAACU;MAAY,CAAO,CAAC;IAAA,GAPtEV,IAAI,CAACE,SAQM,CAAC;EAAA,CACpB;EAED9B,SAAS,CAAC,YAAM;IAAA,IAAAuC,KAAA;IACd,IAAMC,SAAS,YAATA,SAASA,CAAA;MAAA,QAAAD,KAAA,GAAAA,KAAA,IAAAE,iBAAA,CAAG,aAAY;QAC5B,IAAMC,QAAQ,SAASC,KAAK,CAAE,GAAElC,GAAI,WAAU,CAAC;QAC/C,IAAMmC,IAAI,SAASF,QAAQ,CAACE,IAAI,CAAC,CAAC;QAClCrB,OAAO,CAACqB,IAAI,CAAC;MACf,CAAC,GAAAC,KAAA,OAAAC,SAAA;IAAA;IACDN,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,OACE7B,IAAA,CAACN,MAAM;IACLW,UAAU,EAAEA,UAAW;IACvBoB,KAAK,EAAElB,IAAI,CAAC6B,IAAK;IACjBC,MAAM,EACJrC,IAAA,CAACV,IAAI;MAAC8B,KAAK,EAAEzB,MAAM,CAAC2C,SAAU;MAAAhB,QAAA,EAC5BpB,KAAA,CAACZ,IAAI;QAAC8B,KAAK,EAAEzB,MAAM,CAAC4C,IAAK;QAAAjB,QAAA,GACtBX,IAAI,IACHX,IAAA,CAACR,UAAU;UAACgD,UAAU;UAACC,8BAA8B,EAAE,KAAM;UAAAnB,QAAA,EAC3DtB,IAAA,CAACV,IAAI;YAAC8B,KAAK,EAAEzB,MAAM,CAAC+C,cAAe;YAAApB,QAAA,EACjCpB,KAAA,CAACZ,IAAI;cAAC8B,KAAK,EAAEzB,MAAM,CAACgD,KAAM;cAAArB,QAAA,GACxBpB,KAAA,CAACZ,IAAI;gBAAC8B,KAAK,EAAEzB,MAAM,CAACiD,WAAY;gBAAAtB,QAAA,GAC9BtB,IAAA,CAACT,IAAI;kBAAC6B,KAAK,EAAE,CAACzB,MAAM,CAACkD,UAAU,EAAE;oBAAErB,KAAK,EAAE;kBAAI,CAAC,CAAE;kBAAAF,QAAA,EAAC;gBAAM,CAAM,CAAC,EAC/DtB,IAAA,CAACT,IAAI;kBAAC6B,KAAK,EAAE,CAACzB,MAAM,CAACkD,UAAU,EAAE;oBAAErB,KAAK,EAAE;kBAAI,CAAC,CAAE;kBAAAF,QAAA,EAAC;gBAAM,CAAM,CAAC,EAC/DtB,IAAA,CAACT,IAAI;kBAAC6B,KAAK,EAAE,CAACzB,MAAM,CAACkD,UAAU,EAAE;oBAAErB,KAAK,EAAE;kBAAI,CAAC,CAAE;kBAAAF,QAAA,EAAC;gBAAK,CAAM,CAAC,EAC9DtB,IAAA,CAACT,IAAI;kBAAC6B,KAAK,EAAE,CAACzB,MAAM,CAACkD,UAAU,EAAE;oBAAErB,KAAK,EAAE;kBAAI,CAAC,CAAE;kBAAAF,QAAA,EAAC;gBAAM,CAAM,CAAC;cAAA,CAC3D,CAAC,EACNX,IAAI,CAACmC,GAAG,CAAC,UAAC7B,IAAI;gBAAA,OAAKD,cAAc,CAACC,IAAI,CAAC;cAAA,EAAC;YAAA,CACrC;UAAC,CACH;QAAC,CACG,CACb,EACDjB,IAAA,CAACJ,SAAS;UACR6B,KAAK,EAAC,gBAAgB;UACtBP,OAAO,EAAE,SAAAA,QAAA;YAAA,OAAMb,UAAU,CAACU,QAAQ,CAAC,QAAQ,CAAC;UAAA;QAAC,CAC9C,CAAC;MAAA,CACE;IAAC,CACH;EACP,CACF,CAAC;AAEN,CAAC;AAED,eAAeZ,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}