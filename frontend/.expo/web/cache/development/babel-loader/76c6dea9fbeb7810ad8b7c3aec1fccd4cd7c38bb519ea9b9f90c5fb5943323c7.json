{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { Button } from \"../../../../components/Button\";\nimport styles from \"./styles\";\nimport { assignSolver, modifyRequest } from \"../../utils/takeCase\";\nimport { useAuth } from \"../../../../context/AuthContext\";\nimport { getRequest } from \"../../../../Api\";\nimport { API } from \"../../../../Api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar InfoContainer = function InfoContainer(_ref) {\n  var _ref2, _ref3;\n  var itemId = _ref.itemId;\n  var _useAuth = useAuth(),\n    user = _useAuth.user;\n  var _useState = useState({\n      title: '',\n      clientName: '',\n      solverName: '',\n      classroom: '',\n      description: '',\n      typeRequest: '',\n      categoryRequest: '',\n      endTime: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    ticketDetail = _useState2[0],\n    setTicketDetail = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refreshing = _useState4[0],\n    setRefreshing = _useState4[1];\n  var isFocused = useIsFocused();\n  var loadRequest = function loadRequest() {\n    return (_ref2 = _ref2 || _asyncToGenerator(function* () {\n      var response = yield getRequest(itemId);\n      var json = yield response.data;\n      setTicketDetail(json);\n    })).apply(this, arguments);\n  };\n  var takeCase = function takeCase() {\n    return (_ref3 = _ref3 || _asyncToGenerator(function* () {\n      yield assignSolver({\n        requestId: itemId\n      });\n      yield modifyRequest({\n        user: user,\n        requestId: itemId\n      });\n    })).apply(this, arguments);\n  };\n  var onPress = function onPress() {\n    takeCase();\n    onRefresh();\n  };\n  useEffect(function () {\n    loadRequest();\n  }, [isFocused]);\n  var onRefresh = useCallback(_asyncToGenerator(function* () {\n    setRefreshing(true);\n    yield loadRequest();\n    setRefreshing(false);\n  }), []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.infoContainer,\n      children: [_jsxs(View, {\n        style: styles.titleContainer,\n        children: [_jsxs(View, {\n          style: styles.titleColumn,\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: \"T\\xEDtulo\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.title\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Aula\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.classroom\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Tipo\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.typeRequest\n          })]\n        }), _jsxs(View, {\n          style: styles.titleColumn,\n          children: [_jsx(Text, {\n            style: styles.title,\n            children: \"Usuario\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.clientName\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Fecha\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.endTime\n          }), _jsx(Text, {\n            style: styles.title,\n            children: \"Categor\\xEDa\"\n          }), _jsx(Text, {\n            style: styles.subtitle,\n            children: ticketDetail.categoryRequest\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.titleColumn,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \"Descripci\\xF3n\"\n        }), _jsx(Text, {\n          style: [styles.subtitle],\n          children: ticketDetail.description\n        })]\n      })]\n    }), _jsx(Button, {\n      text: 'Tomar Caso',\n      onPress: onPress,\n      buttonStyle: styles.button,\n      color: 'blue'\n    })]\n  });\n};\nexport default InfoContainer;","map":{"version":3,"names":["React","useState","useEffect","useCallback","View","Text","useIsFocused","Button","styles","assignSolver","modifyRequest","useAuth","getRequest","API","jsx","_jsx","jsxs","_jsxs","InfoContainer","_ref","_ref2","_ref3","itemId","_useAuth","user","_useState","title","clientName","solverName","classroom","description","typeRequest","categoryRequest","endTime","_useState2","_slicedToArray","ticketDetail","setTicketDetail","_useState3","_useState4","refreshing","setRefreshing","isFocused","loadRequest","_asyncToGenerator","response","json","data","apply","arguments","takeCase","requestId","onPress","onRefresh","style","container","children","infoContainer","titleContainer","titleColumn","subtitle","text","buttonStyle","button","color"],"sources":["C:/Users/Mauro Retuerto/Desktop/Mauro/FISI/CICLO 8/Moviles/Test/frontend/users/solver/components/InfoContainer/InfoContainer.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\r\nimport { View, Text } from 'react-native'\r\nimport { useIsFocused } from '@react-navigation/native'\r\n\r\nimport { Button } from '../../../../components/Button';\r\n\r\nimport styles from './styles';\r\n\r\nimport { assignSolver, modifyRequest } from '../../utils/takeCase';\r\nimport { useAuth } from '../../../../context/AuthContext';\r\n\r\nimport { getRequest } from '../../../../Api';\r\nimport { API } from '../../../../Api';\r\n\r\nconst InfoContainer = ({ itemId }) => {\r\n  const { user } = useAuth();\r\n  const [ticketDetail, setTicketDetail] = useState({\r\n    title: '',\r\n    clientName: '',\r\n    solverName: '',\r\n    classroom: '',\r\n    description: '',\r\n    typeRequest: '',\r\n    categoryRequest: '',\r\n    endTime: '',\r\n  });\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const isFocused = useIsFocused();\r\n\r\n  const loadRequest = async () => {\r\n    const response = await getRequest(itemId);\r\n    const json = await response.data;\r\n    setTicketDetail(json);\r\n  }\r\n\r\n  const takeCase = async () => {\r\n    await assignSolver({ requestId: itemId });\r\n    await modifyRequest({ user: user, requestId: itemId }); \r\n  }\r\n\r\n  const onPress = () => {\r\n    takeCase();\r\n    onRefresh();\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadRequest();\r\n  }, [isFocused]);\r\n\r\n  const onRefresh = useCallback(async () => {\r\n    setRefreshing(true);\r\n    await loadRequest();\r\n    setRefreshing(false);\r\n  }, []);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.infoContainer}>\r\n        <View style={styles.titleContainer}>\r\n          <View style={styles.titleColumn}>\r\n            <Text style={styles.title}>Título</Text>\r\n            <Text style={styles.subtitle}>{ticketDetail.title}</Text>\r\n            <Text style={styles.title}>Aula</Text>\r\n            <Text style={styles.subtitle}>{ticketDetail.classroom}</Text>\r\n            <Text style={styles.title}>Tipo</Text>\r\n            <Text style={styles.subtitle}>{ticketDetail.typeRequest}</Text>\r\n          </View>\r\n\r\n          <View style={styles.titleColumn}>\r\n            <Text style={styles.title}>Usuario</Text>\r\n            <Text style={styles.subtitle}>{ticketDetail.clientName}</Text>\r\n            <Text style={styles.title}>Fecha</Text>\r\n            <Text style={styles.subtitle}>{ticketDetail.endTime}</Text>\r\n            <Text style={styles.title}>Categoría</Text>\r\n            <Text style={styles.subtitle}>{ticketDetail.categoryRequest}</Text>\r\n          </View>\r\n        </View>      \r\n      \r\n        <View style={styles.titleColumn}>\r\n          <Text style={styles.title}>Descripción</Text>\r\n          <Text style={[styles.subtitle]}>{ticketDetail.description}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      <Button\r\n        text={'Tomar Caso'}\r\n        onPress={onPress}\r\n        buttonStyle={styles.button}\r\n        color={'blue'}\r\n      />\r\n      \r\n    </View>\r\n  )\r\n}\r\n\r\nexport default InfoContainer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}